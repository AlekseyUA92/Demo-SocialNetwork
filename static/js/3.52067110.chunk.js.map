{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","value","onBlur","updateUserStatus","onChange","e","currentTarget","autoFocus","ProfileInfo","profile","className","classes","wrapper","descriptionBlock","avaProfile","src","photos","small","profileImage","usersPhoto","alt","infoBlock","fullName","userId","aboutMe","social","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","job","jobIndikator","lookingForAJobDescription","Preloader","Post","post","item","message","likeButton","likes","MyPosts","React","memo","postsElements","posts","reverse","map","p","likesCount","postsWrapper","onSubmit","formData","addPost","newPostText","maxLength10","maxLengthCreator","NewPostForm","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","type","reduxForm","form","MyPostsContainer","connect","state","profileData","dispatch","addPostActionCreator","Profile","ProfileContainer","this","match","params","authorisedUserId","history","push","getUserProfile","getUserStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.52067110.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__2WJKA\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__A8SDN\",\"infoBlock\":\"ProfileInfo_infoBlock__2TfLh\",\"jobIndikator\":\"ProfileInfo_jobIndikator__V2KSm\",\"usersPhoto\":\"ProfileInfo_usersPhoto__2Lz1d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsWrapper\":\"MyPosts_postsWrapper__1LlYF\",\"posts\":\"MyPosts_posts__2YcJE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2pLuh\",\"likeButton\":\"Post_likeButton__3_VTR\"};","import React, { useState, useEffect } from 'react'\r\n//import classes from './ProfileInfo.module.css'\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    // let stateWithSetState = useState(false);\r\n    // let editMode = stateWithSetState[0]\r\n    // let setEditMode = stateWithSetState[1]\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n\r\n        props.updateUserStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div>\r\n            {/* {console.log('RENDER STATUS')} */}\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>\r\n                        {props.status || '>Change your status<'}\r\n                    </span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input value={status}\r\n                        onBlur={deactivateEditMode}\r\n                        onChange={onStatusChange}\r\n                        autoFocus={true}\r\n                    />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from '../../Common/Preloader/Preloader'\r\nimport profileImage from '../../../assets/images/profileImage.jpg'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\n\r\nconst ProfileInfo = ({ profile, status, updateUserStatus }) => {\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.descriptionBlock}>\r\n                <div className={classes.avaProfile}>\r\n                    <img src={profile.photos.small != null ? profile.photos.small : profileImage} className={classes.usersPhoto} alt='ProfileImage' />\r\n                    {/* <img src={profile.photos.small} /> */}\r\n                </div>\r\n                <div className={classes.infoBlock}>\r\n                    <h3>{profile.fullName} (User: {profile.userId})</h3>\r\n                    <ProfileStatusWithHooks status={status} updateUserStatus={updateUserStatus} />\r\n                    <div>О себе: {profile.aboutMe}</div>\r\n                    <div className={classes.social}>\r\n                        <ul> Контакты:\r\n                            <li>facebook: {profile.contacts.facebook}</li>\r\n                            <li>website: {profile.contacts.website}</li>\r\n                            <li>vk: {profile.contacts.vk}</li>\r\n                            <li>twitter: {profile.contacts.twitter}</li>\r\n                            <li>instagram: {profile.contacts.instagram}</li>\r\n                            <li>youtube: {profile.contacts.youtube}</li>\r\n                            <li>github: {profile.contacts.github}</li>\r\n                            <li>mainLink: {profile.contacts.mainLink}</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className={classes.job}>\r\n                        <div className={classes.jobIndikator}>\r\n                            true\r\n                        </div>\r\n                        <div>Опсиание: {profile.lookingForAJobDescription}</div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\r\n    //console.log(props.message)\r\n    // debugger\r\n\r\n    return (\r\n        <div className={classes.post}>\r\n            <div className={classes.item}>\r\n                <img src=\"https://media.vanityfair.com/photos/5c5325d3cec32271820c6fc1/master/w_1600%2Cc_limit/ava-max-interview.jpg\" alt=\"ava1\" />\r\n                {props.message}\r\n                <div>\r\n                    <span className={classes.likeButton}>\r\n                        {props.likes}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React, { useState } from 'react'\r\nimport classes from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators'\r\nimport { Textarea } from './../../Common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //     return nextProps != this.props || nextState != this.state\r\n    // }\r\n\r\n    let postsElements = [...props.posts]\r\n        .reverse()\r\n        .map(p => <Post message={p.message} likes={p.likesCount} />)\r\n\r\n    let onAddPost = (formData) => {\r\n        props.addPost(formData.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.postsWrapper}>\r\n            <h3>My posts</h3>\r\n            <NewPostForm onSubmit={onAddPost} />\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n\r\n        </div>)\r\n\r\n})\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nlet NewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} >\r\n            <div>\r\n                <Field\r\n                    name={'newPostText'} component={Textarea}\r\n                    placeholder={'Post message'}\r\n                    validate={[required, maxLength10]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type={'submit'}>Add Post</button>\r\n                <button type={'button'}>Remove</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nNewPostForm = reduxForm({\r\n    form: 'ProfileNewPostForm'\r\n})(NewPostForm)\r\n\r\nexport default MyPosts","import React from 'react'\r\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profileData.posts,\r\n        newPostText: state.profileData.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n\r\n","import React from 'react'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus} />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getUserStatus, updateUserStatus } from \"../../redux/profile-reducer\";\r\nimport { withRouter } from 'react-router';\r\n//import { WithAuthRedirect } from '../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            //userId = 16135 - старый ID\r\n            userId = this.props.authorisedUserId;\r\n            if (!userId) {\r\n                // Вариант редиректа\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateUserStatus={this.props.updateUserStatus} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profileData.profile,\r\n    status: state.profileData.status,\r\n    authorisedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getUserProfile, getUserStatus, updateUserStatus }),\r\n    withRouter,\r\n    //WithAuthRedirect\r\n)(ProfileContainer)\r\n\r\n// let AuthRedirectComponent = WithAuthRedirect(ProfileContainer);\r\n\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n// export default connect(mapStateToProps, { getUserProfile })(WithUrlDataContainerComponent)\r\n\r\n"],"sourceRoot":""}